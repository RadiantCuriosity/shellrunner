
* introduction

Build out a complete golang project that is a json RPC server that listens on a local unix
socket and responds to json RPC function calls.

It should have serveral functions:

** run
Takes a full string as input and runs a bash shell with the argument as "-c", it waits
until the shell exits and then returns all the outputs, both stdout and stderr as to
return values, it also returns the exit code. This is a blocking call until the shell
exits.

** background
Takes a full string as input and immediatly return a unique id. In the background it runs
a bash shell with the argument as "-c", it collects the stdout and stderr and any exit
codes. This is a non-blocking call.

** status
Takes a unique id returned earlier by 'background' and returns that executions status,
wether it is still running or has exited or errored, and the time it has been executing in
seconds.

** output
Takes a unique id returned earlier by 'background' and returns any outputs from stdout and
stderr.

* Project Status

This project is complete and fully functional.

*** Building the project
To build the project, run the following command:
#+begin_src sh
go build
#+end_src

*** Testing the project
To run the unit tests, run the following command:
#+begin_src sh
go test -v
#+end_src

*** Running the server
To run the server, execute the following command:
#+begin_src sh
./shellrunner
#+end_src

The server will listen on a unix socket at `/tmp/shellrunner.sock`.

*** Client Usage
A test client is provided in the `client/` directory.

To use the client, run the following command from the project root:
#+begin_src sh
go run client/main.go <method> [args...]
#+end_src

The available methods are:
- `run <command>`: Executes a command and waits for it to finish.
- `background <command>`: Executes a command in the background and returns a job ID.
- `status <job_id>`: Checks the status of a background job.
- `output <job_id>`: Retrieves the output of a background job.

**** Examples
#+begin_src sh
# Run a command synchronously
go run client/main.go run "ls -l"

# Start a background job
go run client/main.go background "sleep 5; echo 'done'"

# Check the status of a job (replace with a real job_id)
go run client/main.go status "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"

# Get the output of a job (replace with a real job_id)
go run client/main.go output "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
#+end_src
